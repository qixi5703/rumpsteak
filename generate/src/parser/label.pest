
char = @{ ASCII_ALPHANUMERIC | "_" }
raw_ident = @{ ASCII_DIGIT+ | (ASCII_ALPHA ~ char*) | ("_" ~ char+) }

quoted_ident = { "\"" ~ (char | "\\\"")* ~ "\"" }
ident = { quoted_ident | raw_ident }

send = { "!" }
receive = { "?" }

<<<<<<< HEAD
predicate = { ident ~ ("<" | ">") ~ ident }
side_effect = { ident ~ "="  ~ ident "+" ~ ident }
refinement = predicate | side_effect

param = { ident ~ ":" ~ ident }
parameters = { (param ~ ",")* ~ param? }
label = { "\""? ~ ident ~ (send | receive) ~ ident ~ "(" ~ parameters ~ ")" ~ ( ":" ~ refinement)? ~ "\"" }
=======
predicate = { ident ~ "<" ~ ident }

param = { ident ~ ":" ~ ident }
parameters = { (param ~ ",")* ~ param? }
label = { "\""? ~ ident ~ (send | receive) ~ ident ~ "(" ~ parameters ~ ")" ~ ( ":" ~ predicate)? ~ "\"" }

WHITESPACE = _{ " " }
>>>>>>> 2a26e53e21b947caa80d8e0e3d4df7fe174659a8
